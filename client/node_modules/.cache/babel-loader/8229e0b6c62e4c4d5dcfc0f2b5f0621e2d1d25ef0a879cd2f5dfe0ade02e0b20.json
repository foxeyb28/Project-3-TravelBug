{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mac98\\\\Desktop\\\\FinalProject3\\\\Project-3-TravelBug\\\\client\\\\src\\\\components\\\\LoginForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Form, Button, Alert, Container, Row, Col } from 'react-bootstrap';\nimport { loginUser } from '../utils/API.js';\nimport Auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = () => {\n  _s();\n  const [userFormData, setUserFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserFormData({\n      ...userFormData,\n      [name]: value\n    });\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    // Check if the form is valid (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    try {\n      const response = await loginUser(userFormData);\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n      const {\n        token,\n        user\n      } = await response.json();\n      console.log(user);\n      Auth.login(token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    // Clear the form fields\n    setUserFormData({\n      email: '',\n      password: ''\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          noValidate: true,\n          validated: validated,\n          onSubmit: handleFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-4\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            dismissible: true,\n            onClose: () => setShowAlert(false),\n            show: showAlert,\n            variant: \"danger\",\n            children: \"Something went wrong with your login credentials!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"Your email\",\n              name: \"email\",\n              onChange: handleInputChange,\n              value: userFormData.email,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: \"Email is required!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              htmlFor: \"password\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Your password\",\n              name: \"password\",\n              onChange: handleInputChange,\n              value: userFormData.password,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: \"Password is required!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !(userFormData.email && userFormData.password),\n            type: \"submit\",\n            variant: \"primary\",\n            className: \"w-100\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginForm, \"JBb8nD/2+8IuO/oORb8K/GRmCa4=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","Form","Button","Alert","Container","Row","Col","loginUser","Auth","jsxDEV","_jsxDEV","LoginForm","_s","userFormData","setUserFormData","email","password","validated","showAlert","setShowAlert","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","form","currentTarget","checkValidity","stopPropagation","response","ok","Error","token","user","json","console","log","login","err","error","children","className","md","noValidate","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","dismissible","onClose","show","variant","Group","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Mac98/Desktop/FinalProject3/Project-3-TravelBug/client/src/components/LoginForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { Form, Button, Alert, Container, Row, Col } from 'react-bootstrap';\nimport { loginUser } from '../utils/API.js';\nimport Auth from '../utils/auth';\n\nconst LoginForm = () => {\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // Check if the form is valid (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const response = await loginUser(userFormData);\n\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n\n      const { token, user } = await response.json();\n      console.log(user);\n      Auth.login(token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    // Clear the form fields\n    setUserFormData({\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <Container>\n      <Row className=\"justify-content-center\">\n        <Col md={6}>\n          <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n            <h2 className=\"mb-4\">Login</h2>\n            <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant=\"danger\">\n              Something went wrong with your login credentials!\n            </Alert>\n            <Form.Group className=\"mb-3\">\n              <Form.Label htmlFor=\"email\">Email</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Your email\"\n                name=\"email\"\n                onChange={handleInputChange}\n                value={userFormData.email}\n                required\n              />\n              <Form.Control.Feedback type=\"invalid\">Email is required!</Form.Control.Feedback>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label htmlFor=\"password\">Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Your password\"\n                name=\"password\"\n                onChange={handleInputChange}\n                value={userFormData.password}\n                required\n              />\n              <Form.Control.Feedback type=\"invalid\">Password is required!</Form.Control.Feedback>\n            </Form.Group>\n            <Button\n              disabled={!(userFormData.email && userFormData.password)}\n              type=\"submit\"\n              variant=\"primary\"\n              className=\"w-100\"\n            >\n              Submit\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}